- content_for :footer
  = javascript_include_tag "jquery.formBuilder"
- content_for :head
  = stylesheet_link_tag "form_builder"


.row-fluid.with-details-close-bar
  = resource_details_bar("You are viewing activity type details. Click to close.")

  .details_box.padding-top-close-bar
    h2= resource.name

    - if resource.description.present?
      .description-data
        = resource.description

    .links-data
      = link_to '', edit_activity_type_path(resource), remote: true, class: 'edit', title: 'Edit' if can?(:edit, resource)
      = active_inactive_buttons(resource) if can?(:activate, resource)

    // The is info will be displayed on the fixed bar when the window is scolled down to this position
    .details-bar-info
      h3= resource.name
      = link_to '', edit_activity_type_path(resource), remote: true, class: 'edit' if can?(:edit, resource)
      = active_inactive_buttons(resource) if can?(:activate, resource)

  .form-builder-wrapper.activity-form
    .form-wrapper.activity-form

    .fields-wrapper
      p Drag fields to add 
      .field data-type="Dropdown" Dropdown
      .field data-type="Checkbox" Checkboxes
      .field data-type="Radio" Multiple Choice
      .field data-type="Percentage" Percent
      .field data-type="TextArea" Paragraph
      .field data-type="Number" Number
      .field data-type="Currency" Price
      .field data-type="Text" Single line text
      .field data-type="Photo" Photo
      .field data-type="Attachment" Attachment
      .field data-type="Summation" Summation
      .field data-type="Date" Date
      .field data-type="Time" Time
      .field data-type="LikertScale" Likert scale
      .field data-type="Brand" Brand
      .field data-type="Marque" Marque

= render partial: 'help_tutorial'

javascript:
  jQuery(function(){
    $(document).on('activity_types:change', function(){
      window.location = '#{activity_type_path(return: return_path)}'
    });
    $('.form-builder-wrapper').formBuilder({
      url: '#{activity_type_path(resource, format: :json)}',
      canEdit: #{can?(:update, resource) ? 'true' : 'false'}
    });
  });